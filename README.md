# Проектная работа "Веб-ларек"

Используемый стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
После клонирования проекта необходимо установить зависимости

```
npm install  

```
Для запуска проекта в режиме разработки необходимо выполнить команду

``` 
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Базовый код

1. Класс Api

Включает в себя реализацию запросов с сервером.

Конструктор принимает следующие аргументы:
1. baseUrl: string - базовый адрес сервера
2. options: RequestInit - дополнительные опции. Если параметр options содержит объект headers, то будет создан объект, иначе будет создан пустой объект.

Класс имеет следующие методы:
- handleResponse - обрабатывает ответ от сервера. Если ответ ок, то функция response.json() возвращает данные в формате JSON. Иначе функуия возвращает Promise, которые отклоняется с данными ошибки или текстом состояния. 
- get - получает ответ от сервера при помощи запроса GET. 
- post - отправляет данные на сервер при помощи запроса POST.


2. Класс Сomponent

Данный класс является основной для большинства компонентов приложения. 

Конструктор принимает следующий аргумент:
1. protected readonly container: HTMLElement - контейнер. Аргумент защищен методом protected.

Класс имеет следующие методы:


3. Класс EventEmitter 

Класс "Брокер событий" - реализует функционал обработчиков события. 

Конструктор не принимает аргументы. Он создаёт новый объект и инициализирует его свойство _events с помощью объекта Map.

Класс имеет следующие методы:
- on - устанавливает обработчик на событие.
- off  - снимает обработчик с события.
- emit - инициирует событие с данными
- onAll - слушает все события
- offAll - сбрасывает все обработчики 
- trigger - производит колбек триггер, генерирующий событие при вызове


##Компоненты отображения (слой)

4. Класс Basket 

Данный класс реализует создание компонента "Корзина". Наследуется от базового класса Component.

Конструктор принимает следующие аргументы:
1. container: HTMLElement - контейнер, содержащий в себе элемента разметки. 
2. protected events: IEvents - интерфейс события. Аргумент защищен методом protected. 

Класс корзины устаналивает значение - цена товара - методом set price, устанавливает значение - массив элементов - методом set items. Также класс дает возможность получить общую стоимость товаров методом get price.


5. Класс Card 

Данный класс создает карточку товара. Наследуется от базового класса Component.

Конструктор принимает следующие аргументы:
1. container: HTMLElement - контейнер, содержащий в себе элемента разметки. 
2. protected events: IEvents - интерфейс события. Аргумент защищен методом protected.

Класс карточки товара устанавливает значения:
- индекса товара - метод set index
- описания товара - set discription
- изображение -  set image
- название товара - set title
- категорию товара -  set category
- стоимость товара - set price 


6. Класс Form 

Данный класс создает форму модального окна. Наследуется от базового класса Component.

Конструктор принимает следующие аргументы:
1. container: HTMLElement - контейнер, содержащий в себе элемента разметки. 
2. protected events: IEvents - интерфейс события. Аргумент защищен методом protected.

Класс формы устанавливает значение валидации методом set valid и значение ошибки методом set errors.


7. Класс Modal 

Данный класс создает общее модальное окно. Наследуется от базового класса Component.

Конструктор принимает следующие аргументы:
1. container: HTMLElement - контейнер, содержащий в себе элемента разметки. 
2. protected events: IEvents - интерфейс события. Аргумент защищен методом protected.

Класс модального окна устанавливает значение контента методом set content.
Класс реализует следующие методы:
- open - метод открытия модального окна 
- close - метод закрытия модального окна 


8. Класс Order 

Данный класс создает оформление заказа в приложении. Наследуется от базового класса Component.

Конструктор принимает следующие аргументы:
1. container: HTMLElement - контейнер, содержащий в себе элемента разметки. 
2. protected events: IEvents - интерфейс события. Аргумент защищен методом protected.

Класс оформления заказа устанавливает следующие значения:
- адрес клиента - set address
- эл.почту клиента - set email
- телефон клиента - set phone


9. Класс Page 

Данный класс создает главную страницу приложения. Наследуется от базового класса Component.

Конструктор принимает следующие аргументы:
1. container: HTMLElement - контейнер, содержащий в себе элемента разметки. 
2. protected events: IEvents - интерфейс события. Аргумент защищен методом protected.

Класс главной страницы устанавливает значение - состояние страницы - затемненное или нет - методом set locked, устанавливает значение каталога товаров методом  set catalog и значение счетчика корзины методом set counter. 


10. Класс Success

Данный класс создает компонент успешного заказа. Наследуется от базового класса Component.

Конструктор принимает следующие аргументы:
1. container: HTMLElement - контейнер, содержащий в себе элемента разметки. 
2. protected events: IEvents - интерфейс события. Аргумент защищен методом protected.

Класс устанавливает значение общей стоимость заказа методом set total.


##Компоненты данных (работа с данными - слой)

1. Класс Data 

Данный класс реализует взаимодействие данных 

Конструктор принимает интерфейс события. Аргумент защищен методом protected.

(нужно дописать....)



